<!DOCTYPE html>
<html lang="ko-KR">
    <head>
        <meta charset="UTF-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Document</title>
    </head>
    <body>
        <script>
            class MyArray {
                constructor() {
                    this.length = 0;
                    // index를 key로 하여 data를 저장합니다. 즉, 유사배열객체(array like object)로 저장합니다.
                    this.data = {};
                }

                // 인덱스에 해당하는 데이터를 가져올 수 있습니다.
                get(index) {
                    return this.data[index];
                }

                // 배열의 가장 마지막 원소로 데이터를 추가합니다.
                push(item) {
                    this.data[this.length] = item;
                    this.length++;
                    return this.length;
                }

                // 배열의 가장 마지막 원소를 제거합니다.
                pop() {
                    const lastItem = this.data[this.length - 1];
                    delete this.data[this.length - 1];
                    this.length--;
                    return lastItem;
                }

                // Index 값으로 원소를 삭제합니다.
                deleteWithIndex(index) {
                    const deleteItem = this.data[index];
                    changeOrderOfItem(index);
                    // delete this.data[index];
                    delete this.data[this.length - 1];
                    this.length--;
                    return deleteItem;
                }

                // 제거해야 하는 원소의 다음 원소들의 인덱스 정리가 필요하다.
                changeOrderOfItem(index) {
                    // 인자로 전달받은 인덱스부터 정리를 시작합니다.
                    for (let i = index; i < this.length - 1; i++) {
                        // 다음 인덱스에 있던 원소의 값들을 1씩 당겨줍니다.
                        this.data[i] = this.data[i + 1];
                    }
                }
            }

            const myArray = new MyArray();
            myArray.push(1);
            myArray.push(2);
            myArray.push(3);
            myArray.push(5);
            myArray.push(8);
            myArray.push(13);
            myArray.push(21);
        </script>
    </body>
</html>
